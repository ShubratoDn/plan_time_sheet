<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="A fully featured admin theme which can be used to build CRM, CMS, etc.">
        <meta name="author" content="Coderthemes">

        <!-- App favicon -->
        <link rel="shortcut icon" th:href="@{/assets/images/favicon.ico}">
        <!-- App title -->
        <title>Users</title>
		
		<!-- DataTables -->
        <link th:href="@{/assets/plugins/datatables/jquery.dataTables.min.css}" rel="stylesheet" type="text/css"/>
        <link th:href="@{/assets/plugins/datatables/buttons.bootstrap.min.css}" rel="stylesheet" type="text/css"/>
       
        <!-- App css -->
        <link th:href="@{/assets/css/bootstrap.min.css}" rel="stylesheet" type="text/css" />
        <link th:href="@{/assets/css/core.css}" rel="stylesheet" type="text/css" />
        <link th:href="@{/assets/css/components.css}" rel="stylesheet" type="text/css" />
        <link th:href="@{/assets/css/icons.css}" rel="stylesheet" type="text/css" />
        <link th:href="@{/assets/css/pages.css}" rel="stylesheet" type="text/css" />
        <link th:href="@{/assets/css/menu.css}" rel="stylesheet" type="text/css" />
        <link th:href="@{/assets/css/responsive.css}" rel="stylesheet" type="text/css" />
		<link rel="stylesheet" th:href="@{/assets/plugins/switchery/switchery.min.css}">

        <script th:src="@{/assets/js/modernizr.min.js}"></script>
        <link th:href="@{/assets/css/style.css}" rel="stylesheet" type="text/css" />

    </head>


    <body class="fixed-left">

        <!-- Begin page -->
        <div id="wrapper">
			
			<th:block th:replace="user/header :: header"></th:block>
        
        	<th:block th:replace="admin/menu :: menu"></th:block>
        	
            <!-- ============================================================== -->
            <!-- Start right Content here -->
            <!-- ============================================================== -->
            <div class="content-page">
                <!-- Start content -->
                <div class="content">
                    <div class="container">
                    	<div class="row">
							<div class="col-xs-12">
								<div class="page-title-box">
                                    <h4 class="page-title"> Users </h4>
                                    <ol class="breadcrumb p-0 m-0">
									<li><a th:href="@{/admin/home}">Dashboard</a></li>
									<li class="active">User List</li>
								</ol>
                                    <div class="clearfix"></div>
                                </div>
							</div>
						</div>
						
                      <div class="row">
                            <div class="col-sm-12">
                            	<div class="alert alert-danger alert-dismissible fade in" role="alert" th:if="${error}">
		                            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
		                                <span aria-hidden="true">×</span>
		                            </button>
		                            <strong>Oh snap!</strong> <th:block th:text="${error}"></th:block>
		                        </div>
		                        <div class="alert alert-success alert-dismissible fade in" role="alert" th:if="${success}">
		                            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
		                                <span aria-hidden="true">×</span>
		                            </button>
		                            <strong>Success</strong> <th:block th:text="${success}"></th:block>
		                        </div>
                                <div class="card-box table-responsive">
									
                                    <table id="datatable" class="table table-striped  table-colored table-info">
                                        <thead>
                                        <tr>
                                            <th>No</th>
                                            <th>Name</th>
                                            <th>Email</th>
                                            <th>Phone</th>
                                            <th>Role</th>
                                            <th>Status</th>
                                            <th>Actions</th>
                                        </tr>
                                        </thead>

                                        <tbody>
	                                        <tr class="odd gradeX" th:each="user,index : ${users}">
	                                            <td th:text="${index.index + 1}"></td>
	                                            <td th:text="${user.firstName + ' ' + user.lastName}"></td>
	                                            <td th:text="${user.email}"></td>
	                                            <td th:text="${user.phone}"></td>
	                                            <td th:text="${user.role}"></td>
	                                            <td th:text="${user.active == 1 ? 'Active' : 'Not Active'}"> </td>
	                                            <td>
	                                            	<th:block th:if="${user.active == 1}" >
		                                            	<a th:href="@{${'/admin/deactive/' + {user.id} } }"><i class="ion-android-contact icon-size-24 text-danger border-shadow-success" data-toggle="tooltip" data-placement="right" title="De-Active"></i></a>
		                                           	</th:block>
		                                           	<th:block th:if="${user.active == 0}" >
		                                            	<a th:href="@{${'/admin/active/' + {user.id} } }"><i class="ion-android-contact icon-size-24 text-success border-shadow-danger" data-toggle="tooltip" data-placement="right" title="Active"></i></a>
		                                           	</th:block>
		                                           	<th:block>
		                                            	<a th:href="@{${'/admin/edit/' + {user.id} } }"><i class="ion-edit icon-size-24" data-toggle="tooltip" data-placement="right" title="Edit"></i></a>
		                                           	
		                                            	<a th:href="@{${'/admin/user-detail/' + {user.id} } }"><i class="ion-information round-icon-1" data-toggle="tooltip" data-placement="left" title="Client Details"></i></a>
		                                           		<a th:if="${user.clientActiveId}" th:href="@{${'/admin/user-hour-log/' + {user.clientActiveId}}}"><i class="ion-calendar icon-size-24" data-toggle="tooltip" data-placement="left" title="Hour Log"></i></a>
		                                           	</th:block>
		                                           	
	                                           	</td>
	                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
						
                    </div> <!-- container -->

                </div> <!-- content -->

            </div>
        </div>
        <footer class="footer text-right"> 2016 - 2018 © Zircos. </footer>
        <!-- END wrapper -->

        <script>
            var resizefunc = [];
        </script>

        <!-- jQuery  -->
        <script th:src="@{/assets/js/jquery.min.js}"></script>
        <script th:src="@{/assets/js/bootstrap.min.js}"></script>
        <script th:src="@{/assets/js/detect.js}"></script>
        <script th:src="@{/assets/js/fastclick.js}"></script>
        <script th:src="@{/assets/js/jquery.blockUI.js}"></script>
        <script th:src="@{/assets/js/waves.js}"></script>
        <script th:src="@{/assets/js/jquery.slimscroll.js}"></script>
        <script th:src="@{/assets/js/jquery.scrollTo.min.js}"></script>
        <script th:src="@{/assets/plugins/switchery/switchery.min.js}"></script>
		
		<script th:src="@{/assets/plugins/datatables/jquery.dataTables.min.js}"></script>
        <script th:src="@{/assets/plugins/datatables/dataTables.bootstrap.js}"></script>

        <!-- App js -->
        <script th:src="@{/assets/js/jquery.core.js}"></script>
        <script th:src="@{/assets/js/jquery.app.js}"></script>
		<script>
            jQuery(document).ready(function(){
            	 $('#datatable').DataTable();
            });
           
        </script>

    </body>
</html>